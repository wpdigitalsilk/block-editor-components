!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{BackgroundOverlay:function(){return h},IconPicker:function(){return y},Image:function(){return u},ImagePicker:function(){return v},MediaToolbar:function(){return _},useEditorSettings:function(){return o},useMedia:function(){return a}});var n=require("@wordpress/data"),r=require("@wordpress/core-data");function a(e){return(0,n.useSelect)((t=>{const{getMedia:n,isResolving:a,hasFinishedResolution:l}=t(r.store),o=[e,{context:"view"}];return{media:n(...o),isResolvingMedia:a("getMedia",o),hasResolvedMedia:l("getMedia",o)}}),[e])}var l=require("@wordpress/block-editor");function o(){return(0,n.useSelect)((e=>{const{getSettings:t}=e(l.store);return t()}),[])}var i=require("@wordpress/element"),c=require("@wordpress/components");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const u=e=>{const{id:t,size:n,focalPoint:r,isBackground:l,...o}=e,u=!!t,{media:d,isResolvingMedia:m}=a(t),g=d?.media_details?.sizes?.[n]?.source_url??d?.source_url,p=d?.alt_text;if(l&&r&&(.5!==r.x||.5!==r.y)){const e={objectFit:"cover",objectPosition:`${100*r.x}% ${100*r.y}%`};o.style={...o.style,...e}}return(0,i.createElement)(i.Fragment,null,l?(0,i.createElement)("div",{className:"ds-media is-background"},u?(0,i.createElement)("img",s({src:g,className:"ds-media__image",alt:p},o)):(0,i.createElement)(c.Placeholder,{className:"ds-media__image ds-media-placeholder",withIllustration:!0})):(0,i.createElement)(i.Fragment,null,u?m?(0,i.createElement)(c.Spinner,null):(0,i.createElement)("img",{src:g,className:"ds-media__image",alt:p}):(0,i.createElement)(c.Placeholder,{className:"ds-media__image ds-media-placeholder",withIllustration:!0})))};u.defaultProps={size:"full",focalPoint:{x:.5,y:.5},isBackground:!1};var d=require("@wordpress/i18n"),m=require("@wordpress/api-fetch"),g=e.n(m),p=require("@emotion/styled");const f=e.n(p)().ul`
	list-style: none;
	margin: 0;
	padding: 0;
	display: grid;
	grid-template-columns: repeat(5, 1fr);
	grid-gap: 12px;
	li {
		display: flex;
		align-items: center;
		color: #000;
		justify-content: center;
		margin: 0;
		padding: 3px;
		border: 2px solid transparent;
	}

	li.selected {
		border-color: #000;
	}
`,y=e=>{const{onSelectIcon:t,icon:n,width:r,height:a}=e,[o,s]=(0,i.useState)(""),[u,m]=(0,i.useState)([]),[p,y]=(0,i.useState)(n);(0,i.useEffect)((()=>{(async()=>{try{const e=await g()({path:"/ds/v1/icons/"});s(e?.sprite||""),m(e?.icons||[])}catch(e){console.warn("Error fetching icons:",e)}})()}),[]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(l.InspectorControls,null,(0,i.createElement)(c.PanelBody,{title:(0,d.__)("Icon Picker")},(0,i.createElement)(f,null,u.map(((e,n)=>(0,i.createElement)("li",{key:n,onClick:()=>(e=>{y(e),t(e)})(e),className:p?.name===e.name?"selected":""},(0,i.createElement)("img",{src:e.url,alt:e.name}))))))),(0,i.createElement)("svg",{className:`icon icon-${n}`,"aria-hidden":"true",width:r,height:a,role:"img"},(0,i.createElement)("use",{href:`${o}#${n}`})))};y.defaultProps={width:44,height:44};const v=e=>{const{id:t,focalPoint:n,size:r,onSelect:s,onRemove:m,onChangeFocalPoint:g,onSizeChange:p,labels:f={},allowedTypes:y=["image"],panelLabel:v,mode:E,...h}=e,{imageSizes:b}=o(),{media:P,isResolvingMedia:S}=a(t),[C,O]=(0,i.useState)([]),w=!!t,k="function"===typeof g,M="function"===typeof p;if((0,i.useEffect)((()=>{if(b){const e=b.map((({slug:e,name:t})=>({value:e,label:t})));O(e)}}),[b]),!w)return(0,i.createElement)(l.InspectorControls,null,(0,i.createElement)(c.PanelBody,{title:v},(0,i.createElement)(l.MediaUploadCheck,null,(0,i.createElement)(l.MediaPlaceholder,{labels:f,onSelect:s,accept:"image",multiple:!1,allowedTypes:y}))));if(S)return(0,i.createElement)(c.Spinner,null);const x=P?.media_details?.sizes?.[r]?.source_url??P?.source_url;return(0,i.createElement)(i.Fragment,null,(k||M)&&(0,i.createElement)(l.InspectorControls,null,(0,i.createElement)(c.PanelBody,{title:v},(0,i.createElement)(_,{id:t,onSelect:s,onRemove:m}),k&&(0,i.createElement)(c.FocalPointPicker,{label:(0,d.__)("Focal Point Picker"),url:x,value:n,onChange:g}),M&&(0,i.createElement)(l.__experimentalImageSizeControl,{isResizable:!1,onChangeImage:p,slug:r,imageSizeOptions:C}))),"preview"==E&&(0,i.createElement)(u,{id:t,size:r,focalPoint:n}))};v.defaultProps={size:"full",focalPoint:{x:.5,y:.5},onChangeFocalPoint:void 0,onSizeChange:void 0,labels:{},allowedTypes:["image"],panelLabel:(0,d.__)("Image Settings"),mode:""};const _=e=>{const{onSelect:t,onRemove:n,id:r}=e,o=!!r,{media:s}=a(r);return(0,i.createElement)(c.ToolbarGroup,{label:(0,d.__)("Media")},o?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(l.MediaReplaceFlow,{mediaUrl:s?.source_url,onSelect:t,name:(0,d.__)("Replace Image")}),(0,i.createElement)(c.ToolbarButton,{onClick:n},(0,d.__)("Remove Image"))):(0,i.createElement)(l.MediaUploadCheck,null,(0,i.createElement)(l.MediaUpload,{onSelect:t,render:({open:e})=>(0,i.createElement)(c.ToolbarButton,{onClick:e},(0,d.__)("Add Image"))})))};function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}_.defaultProps={isOptional:!1};const h=e=>{const{overlayType:t,overlayColor:n,overlayGradient:r,overlayOpacity:a,onSetOverlayType:s,onSetOverlayColor:u,onSetOverlayGradient:m,onSetOverlayOpacity:g,...p}=e,{colors:f,gradients:y}=o(),v={opacity:a/100};p.style={...p.style,...v};let _="";if("color"==t&&n){const e=n?.slug?n.slug:"";e&&(_=`has-${e}-background-color`)}if("gradient"==t&&r){const e=r?.slug?r.slug:"";e&&(_=`has-${e}-gradient-background`)}return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(l.InspectorControls,null,(0,i.createElement)(c.PanelBody,{title:(0,d.__)("Overlay Settings")},(0,i.createElement)(c.RangeControl,{__nextHasNoMargin:!0,label:(0,d.__)("Overlay Opacity"),value:a,onChange:e=>g(e),min:0,max:100}),(0,i.createElement)(c.__experimentalToggleGroupControl,{label:(0,d.__)("Overlay Type"),value:t,isBlock:!0,onChange:e=>s(e)},(0,i.createElement)(c.__experimentalToggleGroupControlOption,{value:"color",label:(0,d.__)("Color")}),(0,i.createElement)(c.__experimentalToggleGroupControlOption,{value:"gradient",label:(0,d.__)("Gradient")})),"color"==t&&(0,i.createElement)(c.ColorPalette,{colors:f,value:n?.color,onChange:e=>(e=>{const t=f.find((t=>t.color===e));u(t||{})})(e),disableCustomColors:!0}),"gradient"==t&&(0,i.createElement)(c.GradientPicker,{__nextHasNoMargin:!0,value:r?.gradient?r.gradient:"",gradients:y,onChange:e=>(e=>{const t=y.find((t=>t.gradient===e));m(t||{})})(e),disableCustomGradients:!0,asButtons:!0}))),(0,i.createElement)("div",E({className:`background-overlay ${_}`},p)))};h.defaultProps={overlayColor:"",overlayOpacity:.25},module.exports=t}();
//# sourceMappingURL=index.js.map