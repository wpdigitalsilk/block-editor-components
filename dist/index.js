/*! For license information please see index.js.LICENSE.txt */
!function(){var e={287:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}function v(){}function E(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=E.prototype=new v;b.constructor=E,f(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var o,a={},l=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)S.call(t,o)&&!k.hasOwnProperty(o)&&(a[o]=t[o]);var i=arguments.length-2;if(1===i)a.children=r;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in i=e.defaultProps)void 0===a[o]&&(a[o]=i[o]);return{$$typeof:n,type:e,key:l,ref:s,props:a,_owner:C.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,a,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var i=!1;if(null===e)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case n:case r:i=!0}}if(i)return l=l(i=e),e=""===a?"."+R(i,0):a,_(l)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),P(l,t,o,"",(function(e){return e}))):null!=l&&(x(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,o+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(T,"$&/")+"/")+e)),t.push(l)),1;if(i=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var u=a+R(s=e[c],c);i+=P(s,t,o,u,l)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)i+=P(s=s.value,t,o,u=a+R(s,c++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function O(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $={current:null},M={transition:null},I={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:M,ReactCurrentOwner:C};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Fragment=o},540:function(e,t,n){"use strict";e.exports=n(287)},942:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=l(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=l(t,n));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r),n.d(r,{ContentPicker:function(){return wt},ContentSearch:function(){return kt},IconPicker:function(){return B},Image:function(){return x},Link:function(){return st},LinkWrap:function(){return ut},MediaDisplay:function(){return $},MediaPicker:function(){return S},MediaToolbar:function(){return E},OverlayDisplay:function(){return q},OverlayPicker:function(){return G},Repeater:function(){return Y},ThemeIcon:function(){return F},Video:function(){return P},getAuthor:function(){return p},getEditorSettings:function(){return l},getMedia:function(){return o},getOutsideClickRef:function(){return c},getPost:function(){return d},getPostTerms:function(){return g},getPoster:function(){return s},getPosts:function(){return u},getSiteSettings:function(){return m},getTerms:function(){return f},onClickNotice:function(){return y}});var e=require("@wordpress/data"),t=require("@wordpress/core-data");function o(n){return(0,e.useSelect)((e=>{const{getMedia:r,isResolving:o,hasFinishedResolution:a}=e(t.store),l=[n,{context:"view"}];return{mediaDetails:r(...l),isResolvingMedia:o("getMedia",l),hasResolvedMedia:a("getMedia",l)}}),[n])}var a=require("@wordpress/block-editor");function l(){return(0,e.useSelect)((e=>{const{getSettings:t}=e(a.store);return t()}),[])}function s(n,r){return(0,e.useSelect)((e=>{const{getMedia:o,isResolving:a,hasFinishedResolution:l}=e(t.store),s=[n,{context:"view"}],i=o(...s);return{posterUrl:i?.media?.sizes?.[r]?.source_url||i?.source_url||"",isResolvingPoster:a("getMedia",s),hasResolvedPoster:l("getMedia",s)}}),[n,r])}var i=require("@wordpress/element");function c(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{const n=n=>{t.current&&!t.current.contains(n.target)&&e(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[t,e]),t}function u(n="post",r={}){return(0,e.useSelect)((e=>{const{getEntityRecords:o,hasStartedResolution:a,hasFinishedResolution:l,isResolving:s}=e(t.store),i={per_page:10,...r},c=["postType",n,i];return{posts:o(...c),hasStartedResolution:a("getEntityRecords",c),hasFinishedResolution:l("getEntityRecords",c),isResolving:s("getEntityRecords",c)}}),[n])}function d(n,r="post"){return(0,e.useSelect)((e=>{const{getEntityRecord:o,hasStartedResolution:a,hasFinishedResolution:l,isResolving:s}=e(t.store),i=["postType",r,n];return{post:o(...i),hasStartedResolution:a("getEntityRecord",i),hasFinishedResolution:l("getEntityRecord",i),isResolving:s("getEntityRecord",i)}}),[n,r])}function m(){return(0,e.useSelect)((e=>{const{getEntityRecord:n,hasStartedResolution:r,hasFinishedResolution:o,isResolving:a}=e(t.store);return{settings:n("root","site"),hasStartedResolution:r("getEntityRecord",["root","site"]),hasFinishedResolution:o("getEntityRecord",["root","site"]),isResolving:a("getEntityRecord",["root","site"])}}),[])}function p(n,r){return(0,e.useSelect)((e=>{const{getEntityRecord:o,hasFinishedResolution:a,isResolving:l,getUser:s}=e(t.store),i=["postType",r,n],c=o(...i),u=a("getEntityRecord",i),d=u?c?.author:void 0;return{authorData:s(d),hasResolvedAuthor:a("getUser",[d])&&u,isResolvingAuthor:l("getUser",[d])}}),[n,r])}function g(n,r,o,a="categories"){return(0,e.useSelect)((e=>{const{getEntityRecord:l,getEntityRecords:s,hasFinishedResolution:i,isResolving:c}=e(t.store),u=["postType",r,n],d=l(...u),m=i("getEntityRecord",u),p=["taxonomy",o,{per_page:-1,context:"view",include:m?d?.[a]:[]}];return{terms:s(...p),hasResolvedTerms:i("getEntityRecords",p)&&m,isResolvingTerms:c("getEntityRecords",p)}}),[n,r,o,a])}function f(n,r={}){return(0,e.useSelect)((e=>{const{getEntityRecords:o,hasFinishedResolution:a,isResolving:l}=e(t.store),s=["taxonomy",n,{per_page:-1,context:"view",...r}];return{terms:o(...s),hasResolvedTerms:a("getEntityRecords",s),isResolvingTerms:l("getEntityRecords",s)}}),[n])}var h=require("@wordpress/notices");const y=(t,n="Links are disabled in the editor.")=>{const{createWarningNotice:r,removeNotice:o}=(0,e.useDispatch)(h.store);let a;return e=>{e.preventDefault(),o(a),a=`ds-theme/click-redirection-prevented/${t}`,r(n,{id:a,type:"snackbar"})}};var v=require("@wordpress/components");const E=({onSelect:e,onRemove:t,id:n,mediaType:r="image",multiple:l=!1})=>{const s=!!n,{mediaDetails:c}=o(n);return(0,i.createElement)(v.ToolbarGroup,{label:"Media"},s?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(a.MediaReplaceFlow,{mediaUrl:c?.source_url?c.source_url:"",onSelect:e,name:`Replace ${r}`}),(0,i.createElement)(v.ToolbarButton,{onClick:t},`Remove ${r}`)):(0,i.createElement)(a.MediaUploadCheck,null,(0,i.createElement)(a.MediaUpload,{onSelect:e,allowedTypes:[r],render:({open:e})=>(0,i.createElement)(v.ToolbarButton,{onClick:e},`Add ${r}`),multiple:l})))},b=t=>{const{media:n={},displayFocalPicker:r=!1,allowMediaTypeSwitch:s=!1,controlPanelLabel:c="Media Settings",multiple:u=!1,showBlockControls:d=!0,isBackground:m=!1,onSelect:p}=t,{id:g=0,mediaType:f="image",imageSize:h="full",lazyLoad:y=!0,srcset:b=!0,videoSource:_="internal",videoUrl:S="",focalPoint:C={x:.5,y:.5},videoControls:k={}}=n,{autoplay:w=!1,isMuted:x=!0,showControls:T=!0,posterId:R=0,posterSize:O="full"}=k,{imageSizes:N}=l(),{mediaDetails:$,isResolvingMedia:M}=o(g),[I,F]=(0,i.useState)([]),L=!!g;(0,i.useEffect)((()=>{if(N){const e=N.map((({slug:e,name:t})=>({value:e,label:t})));F(e)}}),[N]);const{embedPreview:j}=(0,e.useSelect)((e=>{const{getEmbedPreview:t}=e("core");return{embedPreview:!!S.length&&t(S)}}),[S]);if(M)return(0,i.createElement)(v.Spinner,null);const z=$?.media_details?.sizes?.[h]?.source_url??$?.source_url,B=e=>{const t={...n,...e};p(t)},U=()=>{const e={...n,id:0};p(e)},A=e=>{const t={...n.videoControls,...e};B({videoControls:t})};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.PanelBody,{title:c},s&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.__experimentalToggleGroupControl,{label:"Media Type",value:f,isBlock:!0,onChange:e=>(e=>{const t={...n,id:0,videoUrl:"",...e};p(t)})({mediaType:e})},(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"image",label:"Image"}),(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"video",label:"Video"})),"video"===f&&(0,i.createElement)(v.__experimentalToggleGroupControl,{label:"Video Source",value:_,isBlock:!0,onChange:e=>B({videoSource:e})},(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"internal",label:"Internal"}),(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"external",label:"External"}))),L?(0,i.createElement)(i.Fragment,null,"image"===f&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(E,{id:g,onSelect:e=>B({id:e?.id?e.id:0}),onRemove:U,mediaType:f,multiple:u}),r&&(0,i.createElement)(v.FocalPointPicker,{label:"Focal Point Picker",url:z,value:C,onChange:e=>B({focalPoint:e})}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Lazy Load",onChange:()=>B({lazyLoad:!y}),checked:y,help:"Disable this option if your image is in the first fold."}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Enable Responsive Images (srcset)",onChange:()=>B({srcset:!b}),checked:b,help:"Srcset is an HTML image attribute that specifies the list of images to use in different browser situations."}),(0,i.createElement)(a.__experimentalImageSizeControl,{isResizable:!1,onChangeImage:e=>B({imageSize:e}),slug:h,imageSizeOptions:I})),"video"===f&&(0,i.createElement)(i.Fragment,null,"external"===_?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.TextControl,{label:"Embed URL",type:"url",value:S,onChange:e=>B({videoUrl:e}),help:"Paste the URL from one of the provided oEmbed providers"}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Autoplay Video",onChange:()=>A({autoplay:!w}),checked:w}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Mute Video",onChange:()=>A({isMuted:!x}),checked:x}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show Controls",onChange:()=>A({showControls:!T}),checked:T}),j&&(0,i.createElement)("div",{className:"ds-editor-embed-preview"},(0,i.createElement)("label",null,"Embed Preview"),(0,i.createElement)("div",{className:"preview-wrap",dangerouslySetInnerHTML:{__html:j.html}}))):(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Autoplay Video",onChange:()=>A({autoplay:!w}),checked:w}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Mute Video",onChange:()=>A({isMuted:!x}),checked:x}),(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Show Controls",onChange:()=>A({showControls:!T}),checked:T}),R?(0,i.createElement)("div",{className:"ds-editor-poster-preview"},(0,i.createElement)("label",null,"Video Preview"),(0,i.createElement)(P,{id:g,videoSource:_,videoUrl:S,videoControls:k,isPreview:!0}),(0,i.createElement)(a.__experimentalImageSizeControl,{imageSizeHelp:"Please select the poster image size",isResizable:!1,onChangeImage:e=>A({posterSize:e}),slug:O,imageSizeOptions:I}),(0,i.createElement)(v.ToolbarGroup,{label:"Poster"},(0,i.createElement)(v.ToolbarButton,{onClick:()=>A({posterId:0})},"Remove Poster"))):(0,i.createElement)(a.MediaUploadCheck,null,(0,i.createElement)(a.MediaPlaceholder,{labels:{title:"Upload Video Poster",instructions:""},onSelect:e=>A({posterId:e?.id?e.id:0}),accept:"image",allowedTypes:["image"]}))))):(0,i.createElement)(i.Fragment,null,"external"===_&&"video"===f?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.TextControl,{label:"Embed URL",type:"url",value:S,onChange:e=>B({videoUrl:e}),help:"Paste the URL from one of the provided oEmbed providers"}),j&&(0,i.createElement)("div",{className:"ds-editor-embed-preview"},(0,i.createElement)("label",null,"Embed Preview"),(0,i.createElement)("div",{className:"preview-wrap",dangerouslySetInnerHTML:{__html:j.html}}))):(0,i.createElement)(a.MediaUploadCheck,null,(0,i.createElement)(a.MediaPlaceholder,{labels:{title:`Upload ${f}`,instructions:""},onSelect:e=>B({id:e?.id?e.id:0}),accept:`${f}/*`,multiple:u,allowedTypes:[f]})))),d&&"external"!==_&&(0,i.createElement)(a.BlockControls,{group:"block"},(0,i.createElement)(E,{id:g,onSelect:e=>B({id:e?.id?e.id:0}),onRemove:U,mediaType:f,multiple:u})))},_={media:{id:0,mediaType:"image",lazyLoad:!0,srcset:!0,imageSize:"full",videoSource:"internal",videoUrl:"",focalPoint:{x:.5,y:.5},videoControls:{autoplay:!1,isMuted:!0,showControls:!0,posterId:0,posterSize:"full"}},displayFocalPicker:!1,allowMediaTypeSwitch:!1,controlPanelLabel:"Media Settings",multiple:!1,showBlockControls:!0,isBackground:!1,isControl:!0},S=e=>{const t={..._,...e},{isControl:n}=t;return(0,i.createElement)(i.Fragment,null,n?(0,i.createElement)(b,t):(0,i.createElement)(a.InspectorControls,null,(0,i.createElement)(b,t)))};var C=n(942),k=n.n(C);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(null,arguments)}const x=({id:e,imageSize:t="full",focalPoint:n={x:.5,y:.5},isBackground:r=!1,className:a="",...l})=>{const s=!!e,{mediaDetails:c,isResolvingMedia:u}=o(e),d=c?.media_details?.sizes?.[t]?.source_url??c?.source_url,m=c?.alt_text;if(r&&n&&(.5!==n.x||.5!==n.y)){const e={objectFit:"cover",objectPosition:`${100*n.x}% ${100*n.y}%`};l.style={...l.style,...e}}return(0,i.createElement)(i.Fragment,null,r?(0,i.createElement)("div",{className:"ds-media is-background"},s?(0,i.createElement)("img",w({src:d,className:k()(a,"ds-media__image"),alt:m},l)):(0,i.createElement)(v.Placeholder,{className:k()(a,"ds-media__image","ds-media-placeholder"),withIllustration:!0})):(0,i.createElement)(i.Fragment,null,s?u?(0,i.createElement)(v.Spinner,null):(0,i.createElement)("img",{src:d,className:k()(a,"ds-media__image"),alt:m}):(0,i.createElement)(v.Placeholder,{className:k()(a,"ds-media__image","ds-media-placeholder"),withIllustration:!0})))};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(null,arguments)}const R={autoplay:!1,isMuted:!0,showControls:!0,posterId:0,posterSize:"full"},P=({id:t=0,videoSource:n="internal",videoUrl:r="",videoControls:a={},isBackground:l=!1,isPreview:c=!1})=>{const u={...R,...a},{isMuted:d,showControls:m,posterId:p,posterSize:g}=u;let f=!!t;const{mediaDetails:h,isResolvingMedia:y}=o(t),{posterUrl:E}=s(p,g),{embedPreview:b}=(0,e.useSelect)((e=>{const{getEmbedPreview:t}=e("core");return{embedPreview:!!r.length&&t(r)}}),[r]);let _=r,S=y,C="";"internal"===n&&h&&(_=h?.source_url?h.source_url:"",C=h?.mime_type?h.mime_type:"",S=y),"external"===n&&r&&(f=!0,S=!1);const k={poster:E};return(0,i.createElement)(i.Fragment,null,l?(0,i.createElement)("div",{className:"ds-media is-background"},f?S?(0,i.createElement)(v.Spinner,null):(0,i.createElement)(i.Fragment,null,"internal"===n&&(0,i.createElement)("div",{className:"ds-media__video"},(0,i.createElement)("video",T({muted:d,controls:!!c||m,disablePictureInPicture:!0,className:"ds-media__video-element"},k),(0,i.createElement)("source",{src:_,type:C}))),"external"===n&&(0,i.createElement)(i.Fragment,null,b&&(0,i.createElement)("div",{className:"ds-media__video",dangerouslySetInnerHTML:{__html:b.html}}))):(0,i.createElement)(v.Placeholder,{className:"ds-media__image ds-media-placeholder",withIllustration:!0})):(0,i.createElement)(i.Fragment,null,f?S?(0,i.createElement)(v.Spinner,null):(0,i.createElement)(i.Fragment,null,"internal"===n&&(0,i.createElement)("div",{className:"ds-media__video"},(0,i.createElement)("video",T({muted:d,controls:!!c||m,disablePictureInPicture:!0,className:"ds-media__video-element"},k),(0,i.createElement)("source",{src:_,type:C}))),"external"===n&&(0,i.createElement)(i.Fragment,null,b&&(0,i.createElement)("div",{className:"ds-media__video",dangerouslySetInnerHTML:{__html:b.html}}))):(0,i.createElement)(v.Placeholder,{className:"ds-media__image ds-media-placeholder",withIllustration:!0})))};function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(null,arguments)}const N={id:0,mediaType:"image",lazyLoad:!0,srcset:!0,imageSize:"full",videoSource:"internal",videoUrl:"",focalPoint:{x:.5,y:.5},videoControls:{autoplay:!1,isMuted:!0,showControls:!0,posterId:0,posterSize:"full"}},$=({media:e={},isBackground:t=!1,...n})=>{const r={...N,...e,focalPoint:{...N.focalPoint,...e.focalPoint},videoControls:{...N.videoControls,...e.videoControls}},{id:o,mediaType:a,imageSize:l,videoSource:s,videoUrl:c,focalPoint:u,videoControls:d}=r;return(0,i.createElement)(i.Fragment,null,"image"===a&&(0,i.createElement)(x,O({id:o,imageSize:l,focalPoint:u,isBackground:t},n)),"video"===a&&(0,i.createElement)(P,O({id:o,videoSource:s,videoUrl:c,videoControls:d,isBackground:t},n)))};var M=require("@wordpress/api-fetch"),I=n.n(M);const F=({icon:e,width:t=24,height:n=24})=>(0,i.createElement)(i.Fragment,null,e&&(0,i.createElement)("svg",{className:`icon icon-${e}`,"aria-hidden":"true",width:t,height:n,role:"img"},(0,i.createElement)("use",{href:`#sprite-${e}`})));function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(null,arguments)}const j=({icon:e,width:t,height:n,panelTitle:r,isExpanded:o,onSelect:a})=>{const[l,s]=(0,i.useState)([]),[c,u]=(0,i.useState)(e);(0,i.useEffect)((()=>{(async()=>{try{const e=await I()({path:"/ds/v1/icons/"});s(e?.icons||[])}catch(e){console.log("Error fetching icons"),console.warn(e)}})()}),[]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.PanelBody,{title:r,initialOpen:o},(0,i.createElement)("ul",{className:"ds-editor-icon-list"},l.map((e=>(0,i.createElement)("li",{key:e,onClick:()=>(e=>{u(e),a(e)})(e),className:c===e?"selected":""},(0,i.createElement)(F,{icon:e,width:t,height:n})))))))},z={icon:"",width:24,height:24,panelTitle:"Icon Picker",isExpanded:!0,isControl:!0},B=({icon:e="",width:t=24,height:n=24,panelTitle:r="Icon Picker",isExpanded:o=!0,isControl:l=!0,onSelect:s})=>{const c={...z,icon:e,width:t,height:n,panelTitle:r,isExpanded:o,isControl:l};return(0,i.createElement)(i.Fragment,null,l?(0,i.createElement)(j,L({onSelect:s},c)):(0,i.createElement)(a.InspectorControls,null,(0,i.createElement)(j,L({onSelect:s},c))))};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(null,arguments)}const A={hasOverlay:!1,overlayColor:{},overlayGradient:{},overlayOpacity:25,overlayType:"color"},q=({overlay:e={}})=>{const t={...A,...e},{hasOverlay:n,overlayType:r,overlayColor:o,overlayGradient:a,overlayOpacity:l}=t,s={style:{...{opacity:l/100}}};let c="";if("color"===r&&o){const e=o?.slug?o.slug:"";e&&(c=`has-${e}-background-color`)}if("gradient"===r&&a){const e=a?.slug?a.slug:"";e&&(c=`has-${e}-gradient-background`)}return(0,i.createElement)(i.Fragment,null," ",n&&(0,i.createElement)("div",U({className:`background-overlay ${c}`},s)))},D=({overlay:e,onSelect:t})=>{const{hasOverlay:n,overlayType:r,overlayColor:o,overlayGradient:a,overlayOpacity:s}=e,{colors:c,gradients:u}=l(),d=n=>{const r={...e,...n};t(r)};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.PanelBody,{title:"Background Overlay"},(0,i.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:"Has Overlay",onChange:()=>d({hasOverlay:!n}),checked:n})),n&&(0,i.createElement)(v.PanelBody,{title:"Overlay Settings"},(0,i.createElement)(v.RangeControl,{__nextHasNoMargin:!0,label:"Overlay Opacity",value:s,onChange:e=>d({overlayOpacity:e}),min:0,max:100}),(0,i.createElement)(v.__experimentalToggleGroupControl,{label:"Overlay Type",value:r,isBlock:!0,onChange:e=>d({overlayType:e})},(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"color",label:"Color"}),(0,i.createElement)(v.__experimentalToggleGroupControlOption,{value:"gradient",label:"Gradient"})),"color"===r&&(0,i.createElement)(v.ColorPalette,{colors:c,value:o?.color,onChange:e=>(e=>{const t=c.find((t=>t.color===e));d(t?{overlayColor:t}:{overlayColor:{}})})(e),disableCustomColors:!0}),"gradient"===r&&(0,i.createElement)(v.GradientPicker,{__nextHasNoMargin:!0,value:a?.gradient?a.gradient:"",gradients:u,onChange:e=>(e=>{const t=u.find((t=>t?.gradient===e));d(t?{overlayGradient:t}:{overlayGradient:{}})})(e),disableCustomGradients:!0,asButtons:!0})))},H={hasOverlay:!1,overlayColor:{},overlayGradient:{},overlayOpacity:25,overlayType:"color"},G=({overlay:e={},isControl:t=!0,onSelect:n})=>{const r={...H,...e};return(0,i.createElement)(i.Fragment,null,t?(0,i.createElement)(D,{overlay:r,onSelect:n}):(0,i.createElement)(a.InspectorControls,null,(0,i.createElement)(D,{overlay:r,onSelect:n})))};var V=n(540),K=require("uuid"),J=require("@wordpress/icons");const Y=({children:e,onChange:t,value:n=[],defaultValue:r=[],addButtonLabel:o="Add Item",removeButtonLabel:l="Remove Item",minItems:s=1,maxItems:c,initialItems:u=1,removeLayout:d="vertical",showBlockControls:m=!0})=>{function p(){if(c&&n.length>=c)return;const e=Array.isArray(r)&&r.length>0?[r[0]]:[];r.length||e.push([]),e[0].id=(0,K.v4)(),t([...n,...e])}function g(e){const r=JSON.parse(JSON.stringify(n)).filter(((t,n)=>e!==n));t(r)}return(0,i.useEffect)((()=>{if(u&&u>0&&0===n.length){let e=u;c&&u>c&&(e=c),0!==s&&function(e){const n=Array.isArray(r)?[...r]:[];for(let t=1;t<e;t++){const e={...n[0],id:(0,K.v4)()};n.push(e)}t(n)}(e)}}),[u]),(0,i.createElement)(i.Fragment,null,m&&(0,i.createElement)(a.BlockControls,{group:"block"},(0,i.createElement)(v.ToolbarButton,{label:o,icon:J.plusCircle,onClick:()=>p()})),n&&n.length?n.map(((r,o)=>{const a=s!==n.length?(0,i.createElement)("div",{className:`ds-repeater-remove-item ${d}`},(0,i.createElement)(v.Button,{icon:J.close,label:l,onClick:()=>g(o)})):null;return(0,i.createElement)(V.Fragment,{key:o},e(r,a,(e=>function(e,r){const o=JSON.parse(JSON.stringify(n));o[r]="object"===typeof e&&null!==e?{...o[r],...e}:e,t(o)}(e,o)),(()=>g(o)),r.id,o))})):null,(!c||n.length<c)&&(0,i.createElement)("div",{className:"ds-repeater-add-item"},(0,i.createElement)(v.Button,{variant:"link",onClick:()=>p(),icon:J.plusCircle,iconPosition:"right"},o)))};var W=require("@emotion/styled"),Q=n.n(W),X=require("@wordpress/i18n"),Z=require("@emotion/react");var ee=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),te=Math.abs,ne=String.fromCharCode,re=Object.assign;function oe(e){return e.trim()}function ae(e,t,n){return e.replace(t,n)}function le(e,t){return e.indexOf(t)}function se(e,t){return 0|e.charCodeAt(t)}function ie(e,t,n){return e.slice(t,n)}function ce(e){return e.length}function ue(e){return e.length}function de(e,t){return t.push(e),e}var me=1,pe=1,ge=0,fe=0,he=0,ye="";function ve(e,t,n,r,o,a,l){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:me,column:pe,length:l,return:""}}function Ee(e,t){return re(ve("",null,null,"",null,null,0),e,{length:-e.length},t)}function be(){return he=fe>0?se(ye,--fe):0,pe--,10===he&&(pe=1,me--),he}function _e(){return he=fe<ge?se(ye,fe++):0,pe++,10===he&&(pe=1,me++),he}function Se(){return se(ye,fe)}function Ce(){return fe}function ke(e,t){return ie(ye,e,t)}function we(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xe(e){return me=pe=1,ge=ce(ye=e),fe=0,[]}function Te(e){return ye="",e}function Re(e){return oe(ke(fe-1,Ne(91===e?e+2:40===e?e+1:e)))}function Pe(e){for(;(he=Se())&&he<33;)_e();return we(e)>2||we(he)>3?"":" "}function Oe(e,t){for(;--t&&_e()&&!(he<48||he>102||he>57&&he<65||he>70&&he<97););return ke(e,Ce()+(t<6&&32==Se()&&32==_e()))}function Ne(e){for(;_e();)switch(he){case e:return fe;case 34:case 39:34!==e&&39!==e&&Ne(he);break;case 40:41===e&&Ne(e);break;case 92:_e()}return fe}function $e(e,t){for(;_e()&&e+he!==57&&(e+he!==84||47!==Se()););return"/*"+ke(t,fe-1)+"*"+ne(47===e?e:_e())}function Me(e){for(;!we(Se());)_e();return ke(e,fe)}var Ie="-ms-",Fe="-moz-",Le="-webkit-",je="comm",ze="rule",Be="decl",Ue="@keyframes";function Ae(e,t){for(var n="",r=ue(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function qe(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Be:return e.return=e.return||e.value;case je:return"";case Ue:return e.return=e.value+"{"+Ae(e.children,r)+"}";case ze:e.value=e.props.join(",")}return ce(n=Ae(e.children,r))?e.return=e.value+"{"+n+"}":""}function De(e){return Te(He("",null,null,null,[""],e=xe(e),0,[0],e))}function He(e,t,n,r,o,a,l,s,i){for(var c=0,u=0,d=l,m=0,p=0,g=0,f=1,h=1,y=1,v=0,E="",b=o,_=a,S=r,C=E;h;)switch(g=v,v=_e()){case 40:if(108!=g&&58==se(C,d-1)){-1!=le(C+=ae(Re(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:C+=Re(v);break;case 9:case 10:case 13:case 32:C+=Pe(g);break;case 92:C+=Oe(Ce()-1,7);continue;case 47:switch(Se()){case 42:case 47:de(Ve($e(_e(),Ce()),t,n),i);break;default:C+="/"}break;case 123*f:s[c++]=ce(C)*y;case 125*f:case 59:case 0:switch(v){case 0:case 125:h=0;case 59+u:-1==y&&(C=ae(C,/\f/g,"")),p>0&&ce(C)-d&&de(p>32?Ke(C+";",r,n,d-1):Ke(ae(C," ","")+";",r,n,d-2),i);break;case 59:C+=";";default:if(de(S=Ge(C,t,n,c,u,o,s,E,b=[],_=[],d),a),123===v)if(0===u)He(C,t,S,S,b,a,d,s,_);else switch(99===m&&110===se(C,3)?100:m){case 100:case 108:case 109:case 115:He(e,S,S,r&&de(Ge(e,S,S,0,0,o,s,E,o,b=[],d),_),o,_,d,s,r?b:_);break;default:He(C,S,S,S,[""],_,0,s,_)}}c=u=p=0,f=y=1,E=C="",d=l;break;case 58:d=1+ce(C),p=g;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==be())continue;switch(C+=ne(v),v*f){case 38:y=u>0?1:(C+="\f",-1);break;case 44:s[c++]=(ce(C)-1)*y,y=1;break;case 64:45===Se()&&(C+=Re(_e())),m=Se(),u=d=ce(E=C+=Me(Ce())),v++;break;case 45:45===g&&2==ce(C)&&(f=0)}}return a}function Ge(e,t,n,r,o,a,l,s,i,c,u){for(var d=o-1,m=0===o?a:[""],p=ue(m),g=0,f=0,h=0;g<r;++g)for(var y=0,v=ie(e,d+1,d=te(f=l[g])),E=e;y<p;++y)(E=oe(f>0?m[y]+" "+v:ae(v,/&\f/g,m[y])))&&(i[h++]=E);return ve(e,t,n,0===o?ze:s,i,c,u)}function Ve(e,t,n){return ve(e,t,n,je,ne(he),ie(e,2,-2),0)}function Ke(e,t,n,r){return ve(e,t,n,Be,ie(e,0,r),ie(e,r+1,-1),r)}var Je=function(e,t,n){for(var r=0,o=0;r=o,o=Se(),38===r&&12===o&&(t[n]=1),!we(o);)_e();return ke(e,fe)},Ye=function(e,t){return Te(function(e,t){var n=-1,r=44;do{switch(we(r)){case 0:38===r&&12===Se()&&(t[n]=1),e[n]+=Je(fe-1,t,n);break;case 2:e[n]+=Re(r);break;case 4:if(44===r){e[++n]=58===Se()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ne(r)}}while(r=_e());return e}(xe(e),t))},We=new WeakMap,Qe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||We.get(n))&&!r){We.set(e,!0);for(var o=[],a=Ye(t,o),l=n.props,s=0,i=0;s<a.length;s++)for(var c=0;c<l.length;c++,i++)e.props[i]=o[s]?a[s].replace(/&\f/g,l[c]):l[c]+" "+a[s]}}},Xe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ze(e,t){switch(function(e,t){return 45^se(e,0)?(((t<<2^se(e,0))<<2^se(e,1))<<2^se(e,2))<<2^se(e,3):0}(e,t)){case 5103:return Le+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Le+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Le+e+Fe+e+Ie+e+e;case 6828:case 4268:return Le+e+Ie+e+e;case 6165:return Le+e+Ie+"flex-"+e+e;case 5187:return Le+e+ae(e,/(\w+).+(:[^]+)/,Le+"box-$1$2"+Ie+"flex-$1$2")+e;case 5443:return Le+e+Ie+"flex-item-"+ae(e,/flex-|-self/,"")+e;case 4675:return Le+e+Ie+"flex-line-pack"+ae(e,/align-content|flex-|-self/,"")+e;case 5548:return Le+e+Ie+ae(e,"shrink","negative")+e;case 5292:return Le+e+Ie+ae(e,"basis","preferred-size")+e;case 6060:return Le+"box-"+ae(e,"-grow","")+Le+e+Ie+ae(e,"grow","positive")+e;case 4554:return Le+ae(e,/([^-])(transform)/g,"$1"+Le+"$2")+e;case 6187:return ae(ae(ae(e,/(zoom-|grab)/,Le+"$1"),/(image-set)/,Le+"$1"),e,"")+e;case 5495:case 3959:return ae(e,/(image-set\([^]*)/,Le+"$1$`$1");case 4968:return ae(ae(e,/(.+:)(flex-)?(.*)/,Le+"box-pack:$3"+Ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Le+e+e;case 4095:case 3583:case 4068:case 2532:return ae(e,/(.+)-inline(.+)/,Le+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ce(e)-1-t>6)switch(se(e,t+1)){case 109:if(45!==se(e,t+4))break;case 102:return ae(e,/(.+:)(.+)-([^]+)/,"$1"+Le+"$2-$3$1"+Fe+(108==se(e,t+3)?"$3":"$2-$3"))+e;case 115:return~le(e,"stretch")?Ze(ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==se(e,t+1))break;case 6444:switch(se(e,ce(e)-3-(~le(e,"!important")&&10))){case 107:return ae(e,":",":"+Le)+e;case 101:return ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Le+(45===se(e,14)?"inline-":"")+"box$3$1"+Le+"$2$3$1"+Ie+"$2box$3")+e}break;case 5936:switch(se(e,t+11)){case 114:return Le+e+Ie+ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Le+e+Ie+ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Le+e+Ie+ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Le+e+Ie+e+e}return e}var et=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Be:e.return=Ze(e.value,e.length);break;case Ue:return Ae([Ee(e,{value:ae(e.value,"@","@"+Le)})],r);case ze:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ae([Ee(e,{props:[ae(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ae([Ee(e,{props:[ae(t,/:(plac\w+)/,":"+Le+"input-$1")]}),Ee(e,{props:[ae(t,/:(plac\w+)/,":-moz-$1")]}),Ee(e,{props:[ae(t,/:(plac\w+)/,Ie+"input-$1")]})],r)}return""}))}}],tt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,a=e.stylisPlugins||et,l={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)l[t[n]]=!0;s.push(e)}));var i,c,u=[qe,(c=function(e){i.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=ue(e);return function(n,r,o,a){for(var l="",s=0;s<t;s++)l+=e[s](n,r,o,a)||"";return l}}([Qe,Xe].concat(a,u));o=function(e,t,n,r){i=n,Ae(De(e?e+"{"+t.styles+"}":t.styles),d),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new ee({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:o};return m.sheet.hydrate(s),m},nt=require("@wordpress/compose");const rt=e=>{const{children:t,cacheKey:n}=e,r=(0,nt.useInstanceId)(rt),o=tt({key:n||r}),[a,l]=(0,i.useState)(o),s=(0,nt.useRefEffect)((e=>(e&&l(tt({key:n||r,container:e})),()=>{l(o)})),[n,r]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("span",{ref:s,style:{display:"none"}}),(0,i.createElement)(Z.CacheProvider,{value:a},t))};function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(null,arguments)}function at(e,t){switch(e){case"post":case"page":return{type:"post",subtype:e};case"category":return{type:"term",subtype:"category"};case"tag":return{type:"term",subtype:"post_tag"};case"post_format":return{type:"post-format"}}switch(t){case"taxonomy":return{type:"term",subtype:e};case"post-type":return{type:"post",subtype:e};default:return{}}}const lt=Q()(a.RichText)`
	--color--warning: #f00;

	/* Reset margins for this block alone. */
	--global--spacing-vertical: 0;
	--global--spacing-vertical: 0;

	color: var(--wp--style--color--link);
	position: relative;
	display: block;
	align-items: center;
	gap: 0.5em;
	text-decoration: underline;

	/* This holds the text URL input */
	& > div {
		text-decoration: underline;
	}

	.dashicon {
		text-decoration: none;
		font-size: 1em;
		width: 1.5em;
		height: 1.5em;
		border-radius: 50%;
		background: transparent;
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--color--warning);
	}
`,st=({value:e,type:t,opensInNewTab:n,url:r,onLinkChange:o,onTextChange:l,onLinkRemove:s,kind:u,placeholder:d,className:m,isControl:p,controlLabel:g,...f})=>{const[h,y]=(0,i.useState)(!1),[E,b]=(0,i.useState)(!1),_=(0,i.useRef)(),S=c((()=>y(!1))),C={url:r,opensInNewTab:n,title:e};return(0,i.useEffect)((()=>{b(!!r&&!!e)}),[r,e]),(0,i.createElement)(rt,{cacheKey:"ds-link-component"},p&&(0,i.createElement)("p",{className:"ds-link__label-desc"},g),(0,i.createElement)(lt,ot({tagName:"a",className:`ds-link__label ${m} ${p?"contol-label":""}`,value:e,onChange:l,placeholder:d,__unstablePastePlainText:!0,allowedFormats:[],onClick:()=>y(!0),ref:_},f)),!E&&(0,i.createElement)(v.Tooltip,{text:(0,X.__)("URL or Text has not been set")},(0,i.createElement)("span",null,(0,i.createElement)(v.Icon,{icon:"warning"}))),h&&(0,i.createElement)(v.Popover,{anchor:_.current,ref:S,focusOnMount:!1},(0,i.createElement)(a.__experimentalLinkControl,{hasTextControl:!0,value:C,showInitialSuggestions:!0,noDirectEntry:!!t,noURLSuggestion:!!t,suggestionsQuery:at(t,u),onChange:o,onRemove:s,settings:[{id:"opensInNewTab",title:(0,X.__)("Open in new tab")}]})))};function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(null,arguments)}function ct(e,t){switch(e){case"post":case"page":return{type:"post",subtype:e};case"category":return{type:"term",subtype:"category"};case"tag":return{type:"term",subtype:"post_tag"};case"post_format":return{type:"post-format"}}switch(t){case"taxonomy":return{type:"term",subtype:e};case"post-type":return{type:"post",subtype:e};default:return{}}}st.defaultProps={value:"",url:"",className:"",onLinkRemove:void 0,type:"",kind:"",placeholder:(0,X.__)("Link text..."),isControl:!1,controlLabel:(0,X.__)("Link Text")};const ut=({type:e,linkText:t,url:n,opensInNewTab:r,tagName:o,onLinkChange:l,onLinkRemove:s,kind:u,children:d,...m})=>{const[p,g]=(0,i.useState)(!1),[f,h]=(0,i.useState)(!1),y=(0,i.useRef)(),E=c((()=>g(!1))),b={url:n,opensInNewTab:r,title:t},_=`${o}`;return(0,i.useEffect)((()=>{h(!!n)}),[n]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(_,it({onClick:()=>g(!0),ref:y},m),d,!f&&(0,i.createElement)(v.Tooltip,{text:(0,X.__)("URL has not been set")},(0,i.createElement)("span",{className:"invalid-link"},(0,i.createElement)(v.Icon,{icon:"warning"})))),p&&(0,i.createElement)(v.Popover,{anchor:y.current,ref:E,focusOnMount:!1},(0,i.createElement)(a.__experimentalLinkControl,{hasTextControl:!0,value:b,showInitialSuggestions:!0,noDirectEntry:!!e,noURLSuggestion:!!e,suggestionsQuery:ct(e,u),onChange:l,onRemove:s,settings:[{id:"opensInNewTab",title:(0,X.__)("Open in new tab")}]})))};ut.defaultProps={linkText:"",url:"",onLinkRemove:void 0,type:"",kind:"",tagName:"a"};var dt=require("@dnd-kit/core"),mt=require("@dnd-kit/sortable");"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;const pt=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[pt.Translate.toString(e),pt.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}});var gt=require("@wordpress/url"),ft=require("@wordpress/html-entities");function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(null,arguments)}const yt=()=>(0,i.createElement)("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",role:"img","aria-hidden":"true",focusable:"false"},(0,i.createElement)("path",{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}));var vt=({item:e={},isOrderable:t=!1,index:n=0,displayComponent:r,displayComponentProps:o={},childElement:a="div",childClass:l="",handleItemDelete:s})=>{const{uuid:c,title:u,link:d}=e,{attributes:m,isDragging:p,listeners:g,setNodeRef:f,transform:h,transition:y}=(0,mt.useSortable)({id:c}),E={transform:pt.Transform.toString(h),transition:y};if(!e)return null;const b=`${a}`;return(0,i.createElement)(b,{className:`ds-content-picker__item ${l} ${p?"is-dragging":""} ${r?"has-display-component":""}`,ref:f,style:E},(0,i.createElement)("div",{className:"ds-content-picker__item-actions"},t?(0,i.createElement)("span",ht({},m,g),(0,i.createElement)(yt,null),(0,i.createElement)("span",null,"Re-Order")):"",(0,i.createElement)(v.Button,{type:"button",icon:J.close,onClick:()=>{s(e)},className:"ds-remove-content-item"},"Remove")),r?(0,i.createElement)(r,ht({item:e,index:n},o)):(0,i.createElement)("span",{className:"ds-content-picker__item-default"},(0,i.createElement)("span",{className:"item-title"},(0,ft.decodeEntities)(u?.rendered||"")),(0,i.createElement)("span",{className:"item-info"},(0,gt.filterURLForDisplay)((0,gt.safeDecodeURI)(d))||"")))};var Et=({posts:e=[],isOrderable:t=!1,sortOrientation:n="vertical",childElement:r="div",childClass:o="",displayComponent:a=null,displayComponentProps:l={},handleItemDelete:s,setPosts:c})=>{const u=e&&e.length>1,d=e.map((e=>e.uuid)),m=(0,dt.useSensors)((0,dt.useSensor)(dt.MouseSensor),(0,dt.useSensor)(dt.TouchSensor));return(0,i.createElement)(dt.DndContext,{sensors:m,collisionDetection:dt.closestCenter,onDragEnd:t=>{const{active:n,over:r}=t;if(n.id!==r.id){const t=e.findIndex((e=>e.uuid===n.id)),o=e.findIndex((e=>e.uuid===r.id));c((0,mt.arrayMove)(e,t,o))}}},(0,i.createElement)(mt.SortableContext,{items:d,strategy:"horizontal"===n?mt.horizontalListSortingStrategy:mt.verticalListSortingStrategy},e.map(((e,n)=>(0,i.createElement)(vt,{key:e.uuid,item:e,isOrderable:u&&t,handleItemDelete:s,index:n,displayComponent:a,displayComponentProps:l,childElement:r,childClass:o})))))},bt=require("prop-types"),_t=n.n(bt),St=require("@wordpress/rich-text");var Ct=({suggestion:e={},searchTerm:t="",isSelected:n=!1,pickerType:r="postType",onClick:o})=>{const{id:a,title:l={},name:s="",link:c="",parent:u=0}=e;let d="";"postType"===r&&(d=l?.rendered||""),"taxonomy"===r&&(d=s);const m=(0,St.create)({html:d}),p=(0,St.getTextContent)(m),g=(0,ft.decodeEntities)(p);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v.Tooltip,{text:(0,ft.decodeEntities)(d)},(0,i.createElement)(v.Button,{id:a,onClick:o,className:`ds-component-content-search__list-item-button ${n&&"is-selected"}`},(0,i.createElement)("span",{className:"item-title"},u>0&&(0,i.createElement)("span",null,"- "),(0,i.createElement)(v.TextHighlight,{text:g,highlight:t})),c&&(0,i.createElement)("span",{className:"item-info"},(0,i.createElement)(v.__experimentalTruncate,{numberOfLines:1,limit:55,ellipsizeMode:"middle"},(0,gt.filterURLForDisplay)((0,gt.safeDecodeURI)(c))||"")))))};const kt=({placeholder:n="Search",label:r="",perPage:o=20,selectedItems:a=[],searchColumns:l=["post_title","post_content"],pickerType:s="postType",entityType:c="post",storeKeys:u=[],onSelectItem:d})=>{const[m,p]=(0,i.useState)(""),[g,f]=(0,i.useState)(null),{items:h,hasResolved:y}=(0,e.useSelect)((e=>{const n={};return"postType"===s&&(n.status="publish",n.post_type=c),o&&(n.per_page=o),"taxonomy"===s&&(n.hide_empty=!0),m&&(n.search=m,"postType"===s&&(n.orderby="parent"),n.order="asc"),"postType"===s&&(n.search_columns=l),{items:e(t.store).getEntityRecords(s,c,n),hasResolved:e(t.store).hasFinishedResolution("getEntityRecords",[s,c,n])}}),[m,c]);let E=[];y&&h&&h.length&&(E=h.filter((e=>!a.some((t=>t.id===e.id)))));const b=e=>{let t={};return e&&u&&u.length>0?u.forEach((n=>{e.hasOwnProperty(n)&&(t[n]=e[n])})):t=e,t},_=!!m.length,S=E&&!!E.length,C=!y;return(0,i.createElement)("div",{className:"ds-component-content-search"},(0,i.createElement)(v.NavigableMenu,{onNavigate:e=>{0===e&&f(null);const t=b(e);f(t)},orientation:"vertical"},(0,i.createElement)("div",{className:"ds-component-content-search__wrap"},(0,i.createElement)(v.TextControl,{label:r,value:m,onChange:e=>{p(e)},placeholder:n,autoComplete:"off"})),_?(0,i.createElement)(i.Fragment,null,(0,i.createElement)("ul",{className:"ds-component-content-search__list"},C&&(0,i.createElement)("li",{className:"ds-component-content-search__list-spinner"},(0,i.createElement)(v.Spinner,null)),!C&&!S&&(0,i.createElement)("li",{className:"ds-component-content-search__list-item nothing-found"},"Nothing found for the selected query."),!C&&S&&E.map(((e,t)=>{const{title:n,name:r}=e;return"postType"===s&&n&&!n.rendered.length?null:"taxonomy"!==s||r?(0,i.createElement)("li",{key:e.id,className:"ds-component-content-search__list-item"},(0,i.createElement)(Ct,{onClick:()=>(e=>{p("");const t=b(e);d(t)})(e),searchTerm:m,suggestion:e,isSelected:g===t+1,pickerType:s})):null})))):null))};Ct.ContentSearch={placeholder:_t().string,label:_t().string,perPage:_t().number,selectedItems:_t().array,searchColumns:_t().array,pickerType:_t().string,entityType:_t().string,storeKeys:_t().array,onSelectItem:_t().func.isRequired};const wt=({items:e=[],searchLabel:t="",searchPlaceholder:n="Search",searchPerPage:r=20,searchColumns:o=["post_title","post_content"],isOrderable:a=!0,maxContentItems:l=99,wrapperClass:s="",wrapperElement:c="div",childElement:u="div",childClass:d="",sortOrientation:m="vertical",pickerType:p="postType",entityType:g="post",storeKeys:f=[],displayComponent:h=null,displayComponentProps:y={},onPickChange:v})=>{const E=`${c}`;return(0,i.createElement)("div",{className:"ds-content-picker"},(0,i.createElement)("div",{className:"ds-content-picker__wrap"},!e.length||e.length&&e.length<l?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(kt,{placeholder:n,label:t,onSelectItem:t=>{const n=[...e,{uuid:(0,K.v4)(),...t}];v(n)},selectedItems:e,perPage:r,searchColumns:o,pickerType:p,entityType:g,storeKeys:f})):"",e?.length?(0,i.createElement)(E,{className:`ds-content-picker__items ${s}`},(0,i.createElement)(Et,{posts:e,isOrderable:a,handleItemDelete:t=>{const n=e.filter((({id:e,uuid:n})=>t.uuid?n!==t.uuid:e!==t.id));v(n)},setPosts:v,displayComponent:h,displayComponentProps:y,sortOrientation:m,childElement:u,childClass:d,pickerType:p})):(0,i.createElement)("div",{className:"ds-content-picker__no-items"},(0,i.createElement)("span",null,"You don't have any items selected.")),e.length&&e.length>=l?(0,i.createElement)("div",{className:"ds-content-picker__max-items"},(0,i.createElement)("span",null,`You selected the max number of items (${l})`)):""))}}(),module.exports=r}();
//# sourceMappingURL=index.js.map