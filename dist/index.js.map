{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@digitalsilk/block-editor-components/webpack/bootstrap","webpack://@digitalsilk/block-editor-components/webpack/runtime/compat get default export","webpack://@digitalsilk/block-editor-components/webpack/runtime/define property getters","webpack://@digitalsilk/block-editor-components/webpack/runtime/hasOwnProperty shorthand","webpack://@digitalsilk/block-editor-components/webpack/runtime/make namespace object","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/data\"","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/core-data\"","webpack://@digitalsilk/block-editor-components/./selectors/get-media/index.js","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/block-editor\"","webpack://@digitalsilk/block-editor-components/./selectors/get-editor-settings/index.js","webpack://@digitalsilk/block-editor-components/./selectors/get-poster/index.js","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/element\"","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/i18n\"","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/components\"","webpack://@digitalsilk/block-editor-components/./components/media-toolbar/index.js","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@emotion/styled\"","webpack://@digitalsilk/block-editor-components/./components/media-picker/index.js","webpack://@digitalsilk/block-editor-components/./components/image/index.js","webpack://@digitalsilk/block-editor-components/./components/video/index.js","webpack://@digitalsilk/block-editor-components/./components/media-display/index.js","webpack://@digitalsilk/block-editor-components/external commonjs2 \"@wordpress/api-fetch\"","webpack://@digitalsilk/block-editor-components/./components/theme-icon/index.js","webpack://@digitalsilk/block-editor-components/./components/icon-picker/index.js","webpack://@digitalsilk/block-editor-components/./components/overlay-display/index.js","webpack://@digitalsilk/block-editor-components/./components/overlay-picker/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/data\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/core-data\");","import { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport function getMedia(attachmentId) {\n\treturn useSelect(\n\t\t(select) => {\n\t\t\tconst { getMedia, isResolving, hasFinishedResolution } = select(coreStore);\n\n\t\t\tconst mediaParameters = [attachmentId, { context: 'view' }];\n\n\t\t\treturn {\n\t\t\t\tmediaDetails: getMedia(...mediaParameters),\n\t\t\t\tisResolvingMedia: isResolving('getMedia', mediaParameters),\n\t\t\t\thasResolvedMedia: hasFinishedResolution('getMedia', mediaParameters),\n\t\t\t};\n\t\t},\n\t\t[attachmentId]\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/block-editor\");","import { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nexport function getEditorSettings() {\n\treturn useSelect((select) => {\n\t\tconst { getSettings } = select(blockEditorStore);\n\n\t\tconst settings = getSettings();\n\n\t\treturn settings;\n\t}, []);\n}\n","import { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport function getPoster(attachmentId, size) {\n\treturn useSelect(\n\t\t(select) => {\n\t\t\tconst { getMedia, isResolving, hasFinishedResolution } = select(coreStore);\n\n\t\t\tconst mediaParameters = [attachmentId, { context: 'view' }];\n\n\t\t\tconst media = getMedia(...mediaParameters);\n\n\t\t\tconst url = media?.media?.sizes?.[size]?.source_url || media?.source_url || '';\n\n\t\t\treturn {\n\t\t\t\tposterUrl: url,\n\t\t\t\tisResolvingPoster: isResolving('getMedia', mediaParameters),\n\t\t\t\thasResolvedPoster: hasFinishedResolution('getMedia', mediaParameters),\n\t\t\t};\n\t\t},\n\t\t[attachmentId, size]\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/element\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/i18n\");","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/components\");","import { __ } from '@wordpress/i18n';\nimport { MediaReplaceFlow, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { ToolbarGroup, ToolbarButton } from '@wordpress/components';\nimport PropTypes from 'prop-types';\nimport { getMedia } from '../../selectors';\n\nexport const MediaToolbar = (props) => {\n\tconst { onSelect, onRemove, id, mediaType, multiple } = props;\n\tconst hasMedia = !!id;\n\tconst { mediaDetails } = getMedia(id);\n\n\treturn (\n\t\t<ToolbarGroup label={__('Media')}>\n\t\t\t{hasMedia ? (\n\t\t\t\t<>\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaUrl={mediaDetails?.source_url ? mediaDetails.source_url : ''}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\tname={`Replace ${mediaType}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton onClick={onRemove}>{`Remove ${mediaType}`}</ToolbarButton>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\tallowedTypes={[mediaType]} // there is a bug here, this doesn't work when changed, only on load\n\t\t\t\t\t\trender={({ open }) => <ToolbarButton onClick={open}>{`Add ${mediaType}`}</ToolbarButton>}\n\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t/>\n\t\t\t\t</MediaUploadCheck>\n\t\t\t)}\n\t\t</ToolbarGroup>\n\t);\n};\n\nMediaToolbar.defaultProps = {\n\tmediaType: 'image',\n\tmultiple: false,\n};\n\nMediaToolbar.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tonSelect: PropTypes.func.isRequired,\n\tonRemove: PropTypes.func.isRequired,\n\tmediaType: PropTypes.string,\n\tmultiple: PropTypes.bool,\n};\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@emotion/styled\");","import { __ } from '@wordpress/i18n';\nimport {\n\tMediaPlaceholder,\n\tInspectorControls,\n\tMediaUploadCheck,\n\t__experimentalImageSizeControl as ImageSizeControl,\n\tBlockControls,\n} from '@wordpress/block-editor';\n\nimport {\n\tSpinner,\n\tFocalPointPicker,\n\tPanelBody,\n\tToggleControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tTextControl,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\n\nimport { useSelect } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport styled from '@emotion/styled';\nimport PropTypes from 'prop-types';\n\nimport { MediaToolbar, Image, Video } from '../index';\nimport { getMedia, getEditorSettings } from '../../selectors';\n\nconst EmbedPreview = styled.div`\n\tlabel {\n\t\tfont-size: 11px;\n\t\tfont-weight: 500;\n\t\tline-height: 1.4;\n\t\ttext-transform: uppercase;\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 8px;\n\t\tpadding: 0px;\n\t}\n\n\t.preview-wrap {\n\t\tposition: relative;\n\t\tpadding-bottom: 56.25%;\n\t\theight: 0;\n\t\toverflow: hidden;\n\t\tiframe,\n\t\tvideo {\n\t\t\tmax-width: 100%;\n\t\t\tvertical-align: top;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tborder: 0;\n\t\t}\n\t}\n`;\n\nconst PosterPreview = styled.div`\n\t> label {\n\t\tfont-size: 11px;\n\t\tfont-weight: 500;\n\t\tline-height: 1.4;\n\t\ttext-transform: uppercase;\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: 8px;\n\t\tpadding: 0px;\n\t}\n\n\t.ds-media__image,\n\t.ds-media__video-element,\n\t.ds-media__video {\n\t\tmargin-bottom: 20px;\n\t}\n`;\n\nexport const MediaPanelContent = (props) => {\n\tconst {\n\t\tmedia,\n\t\tonSelect,\n\t\tdisplayFocalPicker,\n\t\tallowMediaTypeSwitch,\n\t\tcontrolPanelLabel,\n\t\tmultiple,\n\t\tshowBlockControls,\n\t\tisBackground,\n\t} = props;\n\tconst { id, mediaType, imageSize, lazyLoad, srcset, videoSource, videoUrl, focalPoint, videoControls } = media;\n\n\tconst { autoplay, isMuted, showControls, posterId, posterSize } = videoControls;\n\n\tconst { imageSizes } = getEditorSettings();\n\tconst { mediaDetails, isResolvingMedia } = getMedia(id);\n\tconst [availableImageSizes, setAvailableImageSizes] = useState([]);\n\n\tconst hasMedia = !!id;\n\n\tuseEffect(() => {\n\t\tif (imageSizes) {\n\t\t\tconst availableImageSizes = imageSizes.map(({ slug, name }) => ({ value: slug, label: name }));\n\t\t\tsetAvailableImageSizes(availableImageSizes);\n\t\t}\n\t}, [imageSizes]);\n\n\tconst { embedPreview } = useSelect(\n\t\t(select) => {\n\t\t\tconst { getEmbedPreview } = select('core');\n\n\t\t\treturn {\n\t\t\t\tembedPreview: videoUrl.length ? getEmbedPreview(videoUrl) : false,\n\t\t\t};\n\t\t},\n\t\t[videoUrl]\n\t);\n\n\tif (isResolvingMedia) {\n\t\treturn <Spinner />;\n\t}\n\n\tconst imageUrl = mediaDetails?.media_details?.sizes?.[imageSize]?.source_url ?? mediaDetails?.source_url;\n\n\tconst handleMediaChange = (value) => {\n\t\tconst newMediaData = { ...media, ...value };\n\t\tonSelect(newMediaData);\n\t};\n\n\tconst handleMediaRemove = () => {\n\t\tconst newMediaData = { ...media, id: 0 };\n\t\tonSelect(newMediaData);\n\t};\n\n\tconst handleVideoColtrol = (value) => {\n\t\tconst newVideoControls = { ...media.videoControls, ...value };\n\t\thandleMediaChange({ videoControls: newVideoControls });\n\t};\n\n\tconst handleMediaTypeChange = (value) => {\n\t\tconst newMediaData = { ...media, id: 0, videoUrl: '', ...value };\n\t\tonSelect(newMediaData);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody title={controlPanelLabel}>\n\t\t\t\t{allowMediaTypeSwitch && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\tlabel={__('Media Type')}\n\t\t\t\t\t\t\tvalue={mediaType}\n\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\tonChange={(newType) => handleMediaTypeChange({ mediaType: newType })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ToggleGroupControlOption value=\"image\" label={__('Image')} />\n\t\t\t\t\t\t\t<ToggleGroupControlOption value=\"video\" label={__('Video')} />\n\t\t\t\t\t\t</ToggleGroupControl>\n\n\t\t\t\t\t\t{mediaType == 'video' && (\n\t\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\t\tlabel={__('Video Source')}\n\t\t\t\t\t\t\t\tvalue={videoSource}\n\t\t\t\t\t\t\t\tisBlock\n\t\t\t\t\t\t\t\tonChange={(value) => handleMediaChange({ videoSource: value })}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ToggleGroupControlOption value=\"internal\" label={__('Internal')} />\n\t\t\t\t\t\t\t\t<ToggleGroupControlOption value=\"external\" label={__('External')} />\n\t\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t{hasMedia ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{mediaType == 'image' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<MediaToolbar\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tonSelect={(selectedMedia) =>\n\t\t\t\t\t\t\t\t\t\thandleMediaChange({ id: selectedMedia?.id ? selectedMedia.id : 0 })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonRemove={handleMediaRemove}\n\t\t\t\t\t\t\t\t\tmediaType={mediaType}\n\t\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{displayFocalPicker && (\n\t\t\t\t\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t\t\t\t\tlabel={__('Focal Point Picker')}\n\t\t\t\t\t\t\t\t\t\turl={imageUrl}\n\t\t\t\t\t\t\t\t\t\tvalue={focalPoint}\n\t\t\t\t\t\t\t\t\t\tonChange={(newValues) => handleMediaChange({ focalPoint: newValues })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={__('Lazy Load')}\n\t\t\t\t\t\t\t\t\tonChange={() => handleMediaChange({ lazyLoad: !lazyLoad })}\n\t\t\t\t\t\t\t\t\tchecked={lazyLoad}\n\t\t\t\t\t\t\t\t\thelp=\"Disable this option if your image is in the first fold.\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={__('Enable Responsive Images (srcset)')}\n\t\t\t\t\t\t\t\t\tonChange={() => handleMediaChange({ srcset: !srcset })}\n\t\t\t\t\t\t\t\t\tchecked={srcset}\n\t\t\t\t\t\t\t\t\thelp=\"Srcset is an HTML image attribute that specifies the list of images to use in different browser situations.\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ImageSizeControl\n\t\t\t\t\t\t\t\t\tisResizable={false}\n\t\t\t\t\t\t\t\t\tonChangeImage={(newSize) => handleMediaChange({ imageSize: newSize })}\n\t\t\t\t\t\t\t\t\tslug={imageSize}\n\t\t\t\t\t\t\t\t\timageSizeOptions={availableImageSizes}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{mediaType == 'video' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{videoSource == 'external' ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Embed URL\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={videoUrl}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(newVideoUrl) => handleMediaChange({ videoUrl: newVideoUrl })}\n\t\t\t\t\t\t\t\t\t\t\thelp=\"Paste the URL from one of the provided oEmbed providers\"\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Autoplay Video')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ autoplay: !autoplay })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={autoplay}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Mute Video')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ isMuted: !isMuted })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={isMuted}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Show Controls')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ showControls: !showControls })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={showControls}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t{embedPreview && (\n\t\t\t\t\t\t\t\t\t\t\t<EmbedPreview>\n\t\t\t\t\t\t\t\t\t\t\t\t<label>{__('Embed Preview')}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"preview-wrap\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: embedPreview.html }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</EmbedPreview>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Autoplay Video')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ autoplay: !autoplay })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={autoplay}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Mute Video')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ isMuted: !isMuted })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={isMuted}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\tlabel={__('Show Controls')}\n\t\t\t\t\t\t\t\t\t\t\tonChange={() => handleVideoColtrol({ showControls: !showControls })}\n\t\t\t\t\t\t\t\t\t\t\tchecked={showControls}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!posterId ? (\n\t\t\t\t\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `Upload Video Poster`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinstructions: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect={(selectedMedia) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleVideoColtrol({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposterId: selectedMedia?.id ? selectedMedia.id : 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes={['image']} // there is a bug here, this doesn't work when changed, only on load\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<PosterPreview>\n\t\t\t\t\t\t\t\t\t\t\t\t<label>{__('Video Preview')}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Video\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvideoSource={videoSource}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvideoUrl={videoUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvideoControls={videoControls}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisPreview\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Image id={posterId} imageSize={posterSize} /> */}\n\t\t\t\t\t\t\t\t\t\t\t\t<ImageSizeControl\n\t\t\t\t\t\t\t\t\t\t\t\t\timageSizeHelp=\"Please select the poster image size\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tisResizable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeImage={(newSize) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleVideoColtrol({ posterSize: newSize })\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tslug={posterSize}\n\t\t\t\t\t\t\t\t\t\t\t\t\timageSizeOptions={availableImageSizes}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarGroup label={__('Poster')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarButton onClick={() => handleVideoColtrol({ posterId: 0 })}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Remove Poster')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t\t\t\t\t\t\t</PosterPreview>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{videoSource == 'external' && mediaType == 'video' ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel=\"Embed URL\"\n\t\t\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t\t\tvalue={videoUrl}\n\t\t\t\t\t\t\t\t\tonChange={(newVideoUrl) => handleMediaChange({ videoUrl: newVideoUrl })}\n\t\t\t\t\t\t\t\t\thelp=\"Paste the URL from one of the provided oEmbed providers\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{embedPreview && (\n\t\t\t\t\t\t\t\t\t<EmbedPreview>\n\t\t\t\t\t\t\t\t\t\t<label>{__('Embed Preview')}</label>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"preview-wrap\"\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: embedPreview.html }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</EmbedPreview>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\t\t\ttitle: `Upload ${mediaType}`,\n\t\t\t\t\t\t\t\t\t\tinstructions: '',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonSelect={(selectedMedia) =>\n\t\t\t\t\t\t\t\t\t\thandleMediaChange({ id: selectedMedia?.id ? selectedMedia.id : 0 })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\taccept={`${mediaType}/*`}\n\t\t\t\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t\t\t\t\tallowedTypes={[mediaType]} // there is a bug here, this doesn't work when changed, only on load\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</PanelBody>\n\t\t\t{showBlockControls && videoSource !== 'external' && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<MediaToolbar\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tonSelect={(selectedMedia) =>\n\t\t\t\t\t\t\thandleMediaChange({ id: selectedMedia?.id ? selectedMedia.id : 0 })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonRemove={handleMediaRemove}\n\t\t\t\t\t\tmediaType={mediaType}\n\t\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport const MediaPicker = (props) => {\n\tconst { isControl } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{isControl ? (\n\t\t\t\t<MediaPanelContent {...props} />\n\t\t\t) : (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<MediaPanelContent {...props} />\n\t\t\t\t</InspectorControls>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nMediaPicker.defaultProps = {\n\tmedia: {\n\t\tid: 0,\n\t\tmediaType: 'image',\n\t\tlazyLoad: true,\n\t\timageSize: 'full',\n\t\tvideoSource: 'internal',\n\t\tvideoUrl: '',\n\t\tfocalPoint: {\n\t\t\tx: 0.5,\n\t\t\ty: 0.5,\n\t\t},\n\t\tvideoControls: {\n\t\t\tautoplay: false,\n\t\t\tisMuted: true,\n\t\t\tshowControls: true,\n\t\t\tposterId: 0,\n\t\t\tposterSize: 'full',\n\t\t},\n\t},\n\tdisplayFocalPicker: true,\n\tallowMediaTypeSwitch: false,\n\tcontrolPanelLabel: __('Media Settings'),\n\tmultiple: false,\n\tisControl: true,\n\tshowBlockControls: true,\n\tisBackground: false,\n};\n\nMediaPicker.propTypes = {\n\tonSelect: PropTypes.func.isRequired,\n\tmedia: PropTypes.object,\n\tdisplayFocalPicker: PropTypes.bool,\n\tallowMediaTypeSwitch: PropTypes.bool,\n\tcontrolPanelLabel: PropTypes.string,\n\tmultiple: PropTypes.bool,\n\tisControl: PropTypes.bool,\n\tshowBlockControls: PropTypes.bool,\n\tisBackground: PropTypes.bool,\n};\n","import { Spinner, Placeholder } from '@wordpress/components';\nimport PropTypes from 'prop-types';\nimport { getMedia } from '../../selectors';\n\nexport const Image = (props) => {\n\tconst { id, imageSize, focalPoint, isBackground, ...rest } = props;\n\n\tconst hasImage = !!id;\n\tconst { mediaDetails, isResolvingMedia } = getMedia(id);\n\n\tconst imageUrl = mediaDetails?.media_details?.sizes?.[imageSize]?.source_url ?? mediaDetails?.source_url;\n\tconst altText = mediaDetails?.alt_text;\n\n\tif (isBackground && focalPoint && (focalPoint.x !== 0.5 || focalPoint.y !== 0.5)) {\n\t\tconst focalPointStyle = {\n\t\t\tobjectFit: 'cover',\n\t\t\tobjectPosition: `${focalPoint.x * 100}% ${focalPoint.y * 100}%`,\n\t\t};\n\n\t\trest.style = {\n\t\t\t...rest.style,\n\t\t\t...focalPointStyle,\n\t\t};\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{isBackground ? (\n\t\t\t\t<div className=\"ds-media is-background\">\n\t\t\t\t\t{!hasImage ? (\n\t\t\t\t\t\t<Placeholder className=\"ds-media__image ds-media-placeholder\" withIllustration />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<img src={imageUrl} className=\"ds-media__image\" alt={altText} {...rest} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{!hasImage ? (\n\t\t\t\t\t\t<Placeholder className=\"ds-media__image ds-media-placeholder\" withIllustration />\n\t\t\t\t\t) : isResolvingMedia ? (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<img src={imageUrl} className=\"ds-media__image\" alt={altText} />\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nImage.defaultProps = {\n\timageSize: 'full',\n\tfocalPoint: {\n\t\tx: 0.5,\n\t\ty: 0.5,\n\t},\n\tisBackground: false,\n};\n\nImage.propTypes = {\n\tid: PropTypes.number.isRequired,\n\timageSize: PropTypes.string,\n\tfocalPoint: PropTypes.shape({\n\t\tx: PropTypes.number,\n\t\ty: PropTypes.number,\n\t}),\n\tisBackground: PropTypes.bool,\n};\n","import { Spinner, Placeholder } from '@wordpress/components';\nimport PropTypes from 'prop-types';\nimport { useSelect } from '@wordpress/data';\nimport { getMedia, getPoster } from '../../selectors';\n\nexport const Video = (props) => {\n\tconst { id, videoSource, videoUrl, videoControls, isBackground, isPreview } = props;\n\tconst { autoplay, isMuted, showControls, posterId, posterSize } = videoControls;\n\t// const [posterUrl, setPosterUrl] = useState('');\n\n\tlet hasMedia = !!id;\n\tconst { mediaDetails, isResolvingMedia } = getMedia(id);\n\tconst { posterUrl } = getPoster(posterId, posterSize);\n\n\tconst { embedPreview } = useSelect(\n\t\t(select) => {\n\t\t\tconst { getEmbedPreview } = select('core');\n\n\t\t\tconst previewData = videoUrl.length ? getEmbedPreview(videoUrl) : false;\n\n\t\t\treturn {\n\t\t\t\tembedPreview: previewData,\n\t\t\t};\n\t\t},\n\t\t[videoUrl]\n\t);\n\n\tlet mediaUrl = videoUrl;\n\tlet mediaResolving = isResolvingMedia;\n\tlet mime_type = '';\n\n\tif (videoSource == 'internal' && mediaDetails) {\n\t\tmediaUrl = mediaDetails?.source_url ? mediaDetails.source_url : '';\n\t\tmime_type = mediaDetails?.mime_type ? mediaDetails.mime_type : '';\n\t\tmediaResolving = isResolvingMedia;\n\t}\n\n\tif (videoSource == 'external') {\n\t\tif (videoUrl) {\n\t\t\thasMedia = true;\n\t\t\tmediaResolving = false;\n\t\t}\n\t}\n\n\tconst additionalAtts = {\n\t\tposter: posterUrl,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{isBackground ? (\n\t\t\t\t<div className=\"ds-media is-background\">\n\t\t\t\t\t{!hasMedia ? (\n\t\t\t\t\t\t<Placeholder className=\"ds-media__image ds-media-placeholder\" withIllustration />\n\t\t\t\t\t) : mediaResolving ? (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{videoSource == 'internal' && (\n\t\t\t\t\t\t\t\t<div className=\"ds-media__video\">\n\t\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\t\t// autoPlay={autoplay}\n\t\t\t\t\t\t\t\t\t\tmuted={isMuted}\n\t\t\t\t\t\t\t\t\t\tcontrols={isPreview ? true : showControls}\n\t\t\t\t\t\t\t\t\t\tdisablePictureInPicture\n\t\t\t\t\t\t\t\t\t\tclassName=\"ds-media__video-element\"\n\t\t\t\t\t\t\t\t\t\t{...additionalAtts}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<source src={mediaUrl} type={mime_type} />\n\t\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{videoSource == 'external' && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{embedPreview && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ds-media__video\"\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: embedPreview.html }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{!hasMedia ? (\n\t\t\t\t\t\t<Placeholder className=\"ds-media__image ds-media-placeholder\" withIllustration />\n\t\t\t\t\t) : mediaResolving ? (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{videoSource == 'internal' && (\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\t// autoPlay={autoplay}\n\t\t\t\t\t\t\t\t\tmuted={isMuted}\n\t\t\t\t\t\t\t\t\tcontrols={isPreview ? true : showControls}\n\t\t\t\t\t\t\t\t\tdisablePictureInPicture\n\t\t\t\t\t\t\t\t\tclassName=\"ds-media__video-element\"\n\t\t\t\t\t\t\t\t\t{...additionalAtts}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<source src={mediaUrl} type={mime_type} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{videoSource == 'external' && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{embedPreview && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ds-media__video\"\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: embedPreview.html }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nVideo.defaultProps = {\n\tid: 0,\n\tisBackground: false,\n\tvideoSource: 'internal',\n\tvideoUrl: '',\n\tvideoControls: {\n\t\tautoplay: false,\n\t\tisMuted: true,\n\t\tshowControls: true,\n\t\tposterId: 0,\n\t\tposterSize: 'full',\n\t},\n\tisPreview: false,\n};\n\nVideo.propTypes = {\n\tid: PropTypes.number,\n\tisBackground: PropTypes.bool,\n\tvideoSource: PropTypes.string,\n\tvideoUrl: PropTypes.string,\n\tvideoControls: PropTypes.object,\n\tisPreview: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport { Image, Video } from '../index';\n\nexport const MediaDisplay = (props) => {\n\tconst { media, isBackground } = props;\n\tconst { id, mediaType, imageSize, videoSource, videoUrl, focalPoint, videoControls } = media;\n\n\treturn (\n\t\t<>\n\t\t\t{mediaType === 'image' && (\n\t\t\t\t<Image id={id} imageSize={imageSize} focalPoint={focalPoint} isBackground={isBackground} />\n\t\t\t)}\n\n\t\t\t{mediaType === 'video' && (\n\t\t\t\t<Video\n\t\t\t\t\tid={id}\n\t\t\t\t\tvideoSource={videoSource}\n\t\t\t\t\tvideoUrl={videoUrl}\n\t\t\t\t\tvideoControls={videoControls}\n\t\t\t\t\tisBackground={isBackground}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nMediaDisplay.defaultProps = {\n\tmedia: {\n\t\tid: 0,\n\t\tmediaType: 'image',\n\t\tlazyLoad: true,\n\t\tsrcset: true,\n\t\timageSize: 'full',\n\t\tvideoSource: 'internal',\n\t\tvideoUrl: '',\n\t\tfocalPoint: {\n\t\t\tx: 0.5,\n\t\t\ty: 0.5,\n\t\t},\n\t\tvideoControls: {\n\t\t\tautoplay: false,\n\t\t\tisMuted: true,\n\t\t\tshowControls: true,\n\t\t\tposterId: 0,\n\t\t\tposterSize: 'full',\n\t\t},\n\t},\n\tisBackground: false,\n};\n\nMediaDisplay.propTypes = {\n\tmedia: PropTypes.object,\n\tisBackground: PropTypes.bool,\n};\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wordpress/api-fetch\");","import PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\n\nexport const ThemeIcon = (props) => {\n\tconst { icon, width, height } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{icon && (\n\t\t\t\t<svg className={`icon icon-${icon}`} aria-hidden=\"true\" width={width} height={height} role=\"img\">\n\t\t\t\t\t<use href={`#sprite-${icon}`} />\n\t\t\t\t</svg>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nThemeIcon.defaultProps = {\n\twidth: 40,\n\theight: 40,\n};\n\nThemeIcon.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n};\n","import PropTypes from 'prop-types';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport styled from '@emotion/styled';\nimport { ThemeIcon } from '../theme-icon';\n\nconst IconList = styled.ul`\n\tlist-style: none;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(5, 1fr);\n\tgrid-gap: 12px;\n\tli {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #000;\n\t\tjustify-content: center;\n\t\tmargin: 0;\n\t\tpadding: 3px;\n\t\tborder: 2px solid transparent;\n\t}\n\n\tli.selected {\n\t\tborder-color: #000;\n\t}\n`;\n\nconst IconPanelContent = (props) => {\n\tconst { onSelect, icon, width, height, panelTitle, isExpanded } = props; // New prop to handle icon selection\n\tconst [icons, setIcons] = useState([]);\n\tconst [selectedIcon, setSelectedIcon] = useState(icon);\n\n\tuseEffect(() => {\n\t\tconst fetchIcons = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await apiFetch({\n\t\t\t\t\tpath: '/ds/v1/icons/',\n\t\t\t\t});\n\t\t\t\tsetIcons(response?.icons || []);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Error fetching icons');\n\t\t\t\tconsole.warn(error);\n\t\t\t}\n\t\t};\n\n\t\tfetchIcons();\n\t}, []);\n\n\tconst handleIconSelect = (selectedIcon) => {\n\t\tsetSelectedIcon(selectedIcon);\n\t\tonSelect(selectedIcon);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody title={panelTitle} initialOpen={isExpanded}>\n\t\t\t\t<IconList>\n\t\t\t\t\t{icons.map((icon) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={icon}\n\t\t\t\t\t\t\tonClick={() => handleIconSelect(icon)}\n\t\t\t\t\t\t\tclassName={selectedIcon === icon ? 'selected' : ''}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ThemeIcon icon={icon} width={width} height={height} />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</IconList>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n};\n\nexport const IconPicker = (props) => {\n\tconst { isControl } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{isControl ? (\n\t\t\t\t<IconPanelContent {...props} />\n\t\t\t) : (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<IconPanelContent {...props} />\n\t\t\t\t</InspectorControls>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nIconPicker.defaultProps = {\n\ticon: {},\n\twidth: 40,\n\theight: 40,\n\tisControl: true,\n\tpanelTitle: __('Icon Picker'),\n\tisExpanded: true,\n};\n\nIconPicker.propTypes = {\n\ticon: PropTypes.string,\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tonSelect: PropTypes.func.isRequired,\n\tisControl: PropTypes.bool,\n\tpanelTitle: PropTypes.string,\n\tisExpanded: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\n\nexport const OverlayDisplay = (props) => {\n\tconst { overlay } = props;\n\tconst { hasOverlay, overlayType, overlayColor, overlayGradient, overlayOpacity } = overlay;\n\n\tconst divStyle = {\n\t\topacity: overlayOpacity / 100,\n\t};\n\n\tconst styles = {\n\t\tstyle: {\n\t\t\t...divStyle,\n\t\t},\n\t};\n\n\tlet css_class_name = '';\n\n\tif (overlayType === 'color' && overlayColor) {\n\t\tconst colorSlug = overlayColor?.slug ? overlayColor.slug : '';\n\t\tif (colorSlug) {\n\t\t\tcss_class_name = `has-${colorSlug}-background-color`;\n\t\t}\n\t}\n\n\tif (overlayType === 'gradient' && overlayGradient) {\n\t\tconst gradientSlug = overlayGradient?.slug ? overlayGradient.slug : '';\n\t\tif (gradientSlug) {\n\t\t\tcss_class_name = `has-${gradientSlug}-gradient-background`;\n\t\t}\n\t}\n\n\treturn <> {hasOverlay && <div className={`background-overlay ${css_class_name}`} {...styles} />}</>;\n};\n\nOverlayDisplay.defaultProps = {\n\toverlay: {\n\t\thasOverlay: false,\n\t\toverlayColor: {},\n\t\toverlayGradient: {},\n\t\toverlayOpacity: 25,\n\t\toverlayType: 'color',\n\t},\n};\n\nOverlayDisplay.propTypes = {\n\toverlay: PropTypes.object,\n};\n","import { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tColorPalette,\n\tGradientPicker,\n\tPanelBody,\n\tRangeControl,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\tToggleControl,\n} from '@wordpress/components';\nimport PropTypes from 'prop-types';\nimport { getEditorSettings } from '../../selectors';\n\nconst OverlayPanelContent = (props) => {\n\tconst { overlay, onSelect } = props;\n\tconst { hasOverlay, overlayType, overlayColor, overlayGradient, overlayOpacity } = overlay;\n\tconst { colors, gradients } = getEditorSettings();\n\n\tconst handleOverlayChange = (value) => {\n\t\tconst newOverlayData = { ...overlay, ...value };\n\t\tonSelect(newOverlayData);\n\t};\n\n\tconst handleColorSelect = (colorHex) => {\n\t\tconst matchingItem = colors.find((item) => item.color === colorHex);\n\n\t\tif (matchingItem) {\n\t\t\thandleOverlayChange({ overlayColor: matchingItem });\n\t\t} else {\n\t\t\thandleOverlayChange({ overlayColor: {} });\n\t\t}\n\t};\n\n\tconst handleGradientSelect = (gradient) => {\n\t\tconst matchingItem = gradients.find((item) => item.gradient === gradient);\n\n\t\tif (matchingItem) {\n\t\t\thandleOverlayChange({ overlayGradient: matchingItem });\n\t\t} else {\n\t\t\thandleOverlayChange({ overlayGradient: {} });\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody title={__('Background Overlay')}>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={__('Has Overlay')}\n\t\t\t\t\tonChange={() => handleOverlayChange({ hasOverlay: !hasOverlay })}\n\t\t\t\t\tchecked={hasOverlay}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t{hasOverlay && (\n\t\t\t\t<PanelBody title={__('Overlay Settings')}>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMargin\n\t\t\t\t\t\tlabel={__('Overlay Opacity')}\n\t\t\t\t\t\tvalue={overlayOpacity}\n\t\t\t\t\t\tonChange={(opacity) => handleOverlayChange({ overlayOpacity: opacity })}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\tlabel={__('Overlay Type')}\n\t\t\t\t\t\tvalue={overlayType}\n\t\t\t\t\t\tisBlock\n\t\t\t\t\t\tonChange={(value) => handleOverlayChange({ overlayType: value })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControlOption value=\"color\" label={__('Color')} />\n\t\t\t\t\t\t<ToggleGroupControlOption value=\"gradient\" label={__('Gradient')} />\n\t\t\t\t\t</ToggleGroupControl>\n\n\t\t\t\t\t{overlayType === 'color' && (\n\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\t\tvalue={overlayColor?.color}\n\t\t\t\t\t\t\tonChange={(color) => handleColorSelect(color)}\n\t\t\t\t\t\t\tdisableCustomColors\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{overlayType === 'gradient' && (\n\t\t\t\t\t\t<GradientPicker\n\t\t\t\t\t\t\t__nextHasNoMargin\n\t\t\t\t\t\t\tvalue={overlayGradient?.gradient ? overlayGradient.gradient : ''}\n\t\t\t\t\t\t\tgradients={gradients}\n\t\t\t\t\t\t\tonChange={(currentGradient) => handleGradientSelect(currentGradient)}\n\t\t\t\t\t\t\tdisableCustomGradients\n\t\t\t\t\t\t\tasButtons\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport const OverlayPicker = (props) => {\n\tconst { isControl } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{isControl ? (\n\t\t\t\t<OverlayPanelContent {...props} />\n\t\t\t) : (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<OverlayPanelContent {...props} />\n\t\t\t\t</InspectorControls>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nOverlayPicker.defaultProps = {\n\toverlay: {\n\t\thasOverlay: false,\n\t\toverlayColor: {},\n\t\toverlayGradient: {},\n\t\toverlayOpacity: 25,\n\t\toverlayType: 'color',\n\t},\n\tisControl: true,\n};\n\nOverlayPicker.propTypes = {\n\toverlay: PropTypes.object,\n\tonSelect: PropTypes.func.isRequired,\n\tisControl: PropTypes.bool,\n};\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","require","getMedia","attachmentId","useSelect","select","isResolving","hasFinishedResolution","coreStore","mediaParameters","context","mediaDetails","isResolvingMedia","hasResolvedMedia","getEditorSettings","getSettings","blockEditorStore","getPoster","size","media","posterUrl","sizes","source_url","isResolvingPoster","hasResolvedPoster","MediaToolbar","props","onSelect","onRemove","id","mediaType","multiple","hasMedia","createElement","ToolbarGroup","label","__","Fragment","MediaReplaceFlow","mediaUrl","name","ToolbarButton","onClick","MediaUploadCheck","MediaUpload","allowedTypes","render","open","defaultProps","EmbedPreview","styled","PosterPreview","MediaPanelContent","displayFocalPicker","allowMediaTypeSwitch","controlPanelLabel","showBlockControls","isBackground","imageSize","lazyLoad","srcset","videoSource","videoUrl","focalPoint","videoControls","autoplay","isMuted","showControls","posterId","posterSize","imageSizes","availableImageSizes","setAvailableImageSizes","useState","useEffect","map","slug","embedPreview","getEmbedPreview","length","Spinner","imageUrl","media_details","handleMediaChange","newMediaData","handleMediaRemove","handleVideoColtrol","newVideoControls","PanelBody","title","ToggleGroupControl","isBlock","onChange","newType","handleMediaTypeChange","ToggleGroupControlOption","selectedMedia","FocalPointPicker","url","newValues","ToggleControl","__nextHasNoMarginBottom","checked","help","ImageSizeControl","isResizable","onChangeImage","newSize","imageSizeOptions","TextControl","type","newVideoUrl","className","dangerouslySetInnerHTML","__html","html","Video","isPreview","imageSizeHelp","MediaPlaceholder","labels","instructions","accept","BlockControls","group","MediaPicker","isControl","InspectorControls","x","y","Image","rest","hasImage","altText","alt_text","focalPointStyle","objectFit","objectPosition","style","_extends","src","alt","Placeholder","withIllustration","mediaResolving","mime_type","additionalAtts","poster","muted","controls","disablePictureInPicture","MediaDisplay","ThemeIcon","icon","width","height","role","href","IconList","IconPanelContent","panelTitle","isExpanded","icons","setIcons","selectedIcon","setSelectedIcon","async","response","apiFetch","path","error","console","log","warn","fetchIcons","initialOpen","handleIconSelect","IconPicker","OverlayDisplay","overlay","hasOverlay","overlayType","overlayColor","overlayGradient","overlayOpacity","styles","opacity","css_class_name","colorSlug","gradientSlug","OverlayPanelContent","colors","gradients","handleOverlayChange","newOverlayData","RangeControl","__nextHasNoMargin","min","max","ColorPalette","color","colorHex","matchingItem","find","item","handleColorSelect","disableCustomColors","GradientPicker","gradient","currentGradient","handleGradientSelect","disableCustomGradients","asButtons","OverlayPicker"],"sourceRoot":""}